{% extends "ErpProject/ModuleComptabilite/shared/layout.html" %}
{% block page %}
    <div class="row">
        <ul class="breadcrumb">
            <li><a><span class="mif-home"></span></a></li>
            <li><a class="chargement-au-click" href="{% url 'module_comptabilite_tableau_de_bord' %}">Module Comptabilité</a></li>
            <li><a class="chargement-au-click" href="{% url 'module_comptabilite_lister_comptes' %}">Plan comptable</a></li>
            <li>{{ title }}</li>
        </ul>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <h3>{{ title }}</h3>
            <strong style="float: right;color: grey;opacity: 0.85;margin-top: -30px;">{% now "jS F Y H:i" %}</strong>
            <div class="separ" style="background-color: grey;opacity: 0.2"></div>
            <div class="panel panel-default" style="border: none;">
                <div class="panel panel-body" style="background-color:#f5f5f5;border: none;border-radius: none;">
                    <div class="row only-on-small-screen">
                        <h2 class="text-light no-margin-left">{{ title }}</h2>
                    </div>
                        <div class="row">
                            <div class="col-md-2">
                                {% include 'ErpProject/ErpBackOffice/widget/submitButton.html' with  id="btnSubmit"  val="Valider" %}
                            </div>
                            <div class="col-md-2">
                                <button style="width: 100%;" onclick="javascript:window.location.assign('{% url 'module_comptabilite_details_compte' model.id %}')" class="theme-btn theme-btn-sm rounded">
                                    Annuler 
                                </button>
                            </div>
                        </div> 
                        
                        <hr class="hr-ligne">
                        <!-- Appel de la fonction message -->
                            {% include 'ErpProject/ErpBackOffice/widget/message.html' with messages=messages only %}
                        <br>
                        <br>
                        

                        <div class="rowitem-content" style="margin-top: 10px">
                            <div class="col-md-12">
                                <form id="form" method="POST" action="{% url 'module_comptabilite_post_modifier_compte' %}"
                                    data-role="validator" 
                                    data-show-required-state="false"
                                    data-hint-mode="line"
                                    data-hint-background="bg-red"
                                    data-hint-color="fg-white"
                                    data-hide-error="5000"
                                    novalidate="novalidate"
                                    data-on-error-input="notifyOnErrorInput"
                                    data-show-error-hint="false">
                                    {% csrf_token %}
                                    <input id="submit" type="submit" style="display: none">
                                    <input name="ref" type="hidden" value="{{ model.id }}" >
                                    <div class="row">
                                    <div class="col-md-6">
                                        <label>Numéro de compte</label>
                                        <div class="input-control text full-size" data-role="input">
                                            <input name="numero" type="text" value="{{ model.numero }}" 
                                                data-validate-func="required" 
                                                data-validate-hint="Entrez le numéro du compte !">
                                            <span class="input-state-error mif-warning"></span>
                                            <span class="input-state-success mif-checkmark"></span>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label>Désignation</label>
                                        <div class="input-control text full-size" data-role="input">
                                            <input name="designation" type="text" value="{{ model.designation }}" 
                                                data-validate-func="required" 
                                                data-validate-hint="Entrez la désignation du compte !">
                                            <span class="input-state-error mif-warning"></span>
                                            <span class="input-state-success mif-checkmark"></span>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label>Type de compte</label>
                                        <div class="input-control text full-size">
                                            <select name="type_compte_id" id="type_compte_id"
                                                data-validate-func="min" 
                                                data-validate-arg="1"
                                                data-validate-hint="Sélectionnez le type de compte svp.">
                                                <option value="0">Sélectionnez un type</option>
                                                {% for item in types_compte %}
                                                    <option {% if model.type_compte_id == item.id %}{{ "selected" }}{% endif %} value="{{ item.id }}"> {{ item.designation }} </option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                </form>
                            </div>        
                        </div>

                     </div>
            </div>
</div>
{% endblock %}